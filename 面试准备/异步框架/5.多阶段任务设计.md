## 1. 多阶段的实现

1. 通过 Column `task_stage` 记录当前任务处于的**阶段**；`task_context` 记录任务的**上下文信息**；
   可以是 *Json, url, text ...*，只要知道如何 parse it即可；
2. 业务逻辑，主要由：**Aaron层实现** (***实现的方法，有什么Stage，上下文消息有什么 ...***)；而 **flowsvr层**，根据 **status** 判断*任务完成情况* (Success / Fail)；

## 2. 举个例子

`task_stage`：一个视频转码任务，可以分为三个阶段：**调用审核API** --> **检查审核结果** & **调用转码API** --> **检查转码结果** & **获取转码后的视频**；

`task_context`：调用审核API后，会获得一个 **审核ID** -- > 下一阶段，需要这个，**查询审核结果**！，调用转码API，会获得一个 **转码ID** --> 下一阶段，根据ID，**检查结果 & 获取转码后的视频**；

