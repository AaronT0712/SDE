{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport { coalesce } from '../../../../base/common/arrays.js';\nimport { createCancelablePromise, raceCancellation } from '../../../../base/common/async.js';\nimport { VSDataTransfer } from '../../../../base/common/dataTransfer.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { toExternalVSDataTransfer } from '../../../browser/dnd.js';\nimport { Range } from '../../../common/core/range.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { DraggedTreeItemsIdentifier } from '../../../common/services/treeViewsDnd.js';\nimport { ITreeViewsDnDService } from '../../../common/services/treeViewsDndService.js';\nimport { EditorStateCancellationTokenSource } from '../../editorState/browser/editorState.js';\nimport { InlineProgressManager } from '../../inlineProgress/browser/inlineProgress.js';\nimport { localize } from '../../../../nls.js';\nimport { RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { LocalSelectionTransfer } from '../../../../platform/dnd/browser/dnd.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { PostEditWidgetManager } from './postEditWidget.js';\nexport const changeDropTypeCommandId = 'editor.changeDropType';\nexport const dropWidgetVisibleCtx = new RawContextKey('dropWidgetVisible', false, localize('dropWidgetVisible', \"Whether the drop widget is showing\"));\nlet DropIntoEditorController = class DropIntoEditorController extends Disposable {\n  static get(editor) {\n    return editor.getContribution(DropIntoEditorController.ID);\n  }\n  constructor(editor, instantiationService, _languageFeaturesService, _treeViewsDragAndDropService) {\n    super();\n    this._languageFeaturesService = _languageFeaturesService;\n    this._treeViewsDragAndDropService = _treeViewsDragAndDropService;\n    this.treeItemsTransfer = LocalSelectionTransfer.getInstance();\n    this._dropProgressManager = this._register(instantiationService.createInstance(InlineProgressManager, 'dropIntoEditor', editor));\n    this._postDropWidgetManager = this._register(instantiationService.createInstance(PostEditWidgetManager, 'dropIntoEditor', editor, dropWidgetVisibleCtx, {\n      id: changeDropTypeCommandId,\n      label: localize('postDropWidgetTitle', \"Show drop options...\")\n    }));\n    this._register(editor.onDropIntoEditor(e => this.onDropIntoEditor(editor, e.position, e.event)));\n  }\n  changeDropType() {\n    this._postDropWidgetManager.tryShowSelector();\n  }\n  onDropIntoEditor(editor, position, dragEvent) {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n      if (!dragEvent.dataTransfer || !editor.hasModel()) {\n        return;\n      }\n      (_a = this._currentOperation) === null || _a === void 0 ? void 0 : _a.cancel();\n      editor.focus();\n      editor.setPosition(position);\n      const p = createCancelablePromise(token => __awaiter(this, void 0, void 0, function* () {\n        const tokenSource = new EditorStateCancellationTokenSource(editor, 1 /* CodeEditorStateFlag.Value */, undefined, token);\n        try {\n          const ourDataTransfer = yield this.extractDataTransferData(dragEvent);\n          if (ourDataTransfer.size === 0 || tokenSource.token.isCancellationRequested) {\n            return;\n          }\n          const model = editor.getModel();\n          if (!model) {\n            return;\n          }\n          const providers = this._languageFeaturesService.documentOnDropEditProvider.ordered(model).filter(provider => {\n            if (!provider.dropMimeTypes) {\n              // Keep all providers that don't specify mime types\n              return true;\n            }\n            return provider.dropMimeTypes.some(mime => ourDataTransfer.matches(mime));\n          });\n          const edits = yield this.getDropEdits(providers, model, position, ourDataTransfer, tokenSource);\n          if (tokenSource.token.isCancellationRequested) {\n            return;\n          }\n          if (edits.length) {\n            const canShowWidget = editor.getOption(35 /* EditorOption.dropIntoEditor */).showDropSelector === 'afterDrop';\n            // Pass in the parent token here as it tracks cancelling the entire drop operation\n            yield this._postDropWidgetManager.applyEditAndShowIfNeeded([Range.fromPositions(position)], {\n              activeEditIndex: 0,\n              allEdits: edits\n            }, canShowWidget, token);\n          }\n        } finally {\n          tokenSource.dispose();\n          if (this._currentOperation === p) {\n            this._currentOperation = undefined;\n          }\n        }\n      }));\n      this._dropProgressManager.showWhile(position, localize('dropIntoEditorProgress', \"Running drop handlers. Click to cancel\"), p);\n      this._currentOperation = p;\n    });\n  }\n  getDropEdits(providers, model, position, dataTransfer, tokenSource) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const results = yield raceCancellation(Promise.all(providers.map(provider => {\n        return provider.provideDocumentOnDropEdits(model, position, dataTransfer, tokenSource.token);\n      })), tokenSource.token);\n      const edits = coalesce(results !== null && results !== void 0 ? results : []);\n      edits.sort((a, b) => b.priority - a.priority);\n      return edits;\n    });\n  }\n  extractDataTransferData(dragEvent) {\n    return __awaiter(this, void 0, void 0, function* () {\n      if (!dragEvent.dataTransfer) {\n        return new VSDataTransfer();\n      }\n      const dataTransfer = toExternalVSDataTransfer(dragEvent.dataTransfer);\n      if (this.treeItemsTransfer.hasData(DraggedTreeItemsIdentifier.prototype)) {\n        const data = this.treeItemsTransfer.getData(DraggedTreeItemsIdentifier.prototype);\n        if (Array.isArray(data)) {\n          for (const id of data) {\n            const treeDataTransfer = yield this._treeViewsDragAndDropService.removeDragOperationTransfer(id.identifier);\n            if (treeDataTransfer) {\n              for (const [type, value] of treeDataTransfer) {\n                dataTransfer.replace(type, value);\n              }\n            }\n          }\n        }\n      }\n      return dataTransfer;\n    });\n  }\n};\nDropIntoEditorController.ID = 'editor.contrib.dropIntoEditorController';\nDropIntoEditorController = __decorate([__param(1, IInstantiationService), __param(2, ILanguageFeaturesService), __param(3, ITreeViewsDnDService)], DropIntoEditorController);\nexport { DropIntoEditorController };","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","coalesce","createCancelablePromise","raceCancellation","VSDataTransfer","Disposable","toExternalVSDataTransfer","Range","ILanguageFeaturesService","DraggedTreeItemsIdentifier","ITreeViewsDnDService","EditorStateCancellationTokenSource","InlineProgressManager","localize","RawContextKey","LocalSelectionTransfer","IInstantiationService","PostEditWidgetManager","changeDropTypeCommandId","dropWidgetVisibleCtx","DropIntoEditorController","get","editor","getContribution","ID","constructor","instantiationService","_languageFeaturesService","_treeViewsDragAndDropService","treeItemsTransfer","getInstance","_dropProgressManager","_register","createInstance","_postDropWidgetManager","id","label","onDropIntoEditor","position","event","changeDropType","tryShowSelector","dragEvent","_a","dataTransfer","hasModel","_currentOperation","cancel","focus","setPosition","p","token","tokenSource","undefined","ourDataTransfer","extractDataTransferData","size","isCancellationRequested","model","getModel","providers","documentOnDropEditProvider","ordered","filter","provider","dropMimeTypes","some","mime","matches","edits","getDropEdits","canShowWidget","getOption","showDropSelector","applyEditAndShowIfNeeded","fromPositions","activeEditIndex","allEdits","dispose","showWhile","results","all","map","provideDocumentOnDropEdits","sort","a","b","priority","hasData","prototype","data","getData","Array","isArray","treeDataTransfer","removeDragOperationTransfer","identifier","type","replace"],"sources":["/Users/aaron/Desktop/SDE/online_judgement/yuoj-frontend-master/node_modules/monaco-editor/esm/vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { coalesce } from '../../../../base/common/arrays.js';\nimport { createCancelablePromise, raceCancellation } from '../../../../base/common/async.js';\nimport { VSDataTransfer } from '../../../../base/common/dataTransfer.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { toExternalVSDataTransfer } from '../../../browser/dnd.js';\nimport { Range } from '../../../common/core/range.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { DraggedTreeItemsIdentifier } from '../../../common/services/treeViewsDnd.js';\nimport { ITreeViewsDnDService } from '../../../common/services/treeViewsDndService.js';\nimport { EditorStateCancellationTokenSource } from '../../editorState/browser/editorState.js';\nimport { InlineProgressManager } from '../../inlineProgress/browser/inlineProgress.js';\nimport { localize } from '../../../../nls.js';\nimport { RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { LocalSelectionTransfer } from '../../../../platform/dnd/browser/dnd.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { PostEditWidgetManager } from './postEditWidget.js';\nexport const changeDropTypeCommandId = 'editor.changeDropType';\nexport const dropWidgetVisibleCtx = new RawContextKey('dropWidgetVisible', false, localize('dropWidgetVisible', \"Whether the drop widget is showing\"));\nlet DropIntoEditorController = class DropIntoEditorController extends Disposable {\n    static get(editor) {\n        return editor.getContribution(DropIntoEditorController.ID);\n    }\n    constructor(editor, instantiationService, _languageFeaturesService, _treeViewsDragAndDropService) {\n        super();\n        this._languageFeaturesService = _languageFeaturesService;\n        this._treeViewsDragAndDropService = _treeViewsDragAndDropService;\n        this.treeItemsTransfer = LocalSelectionTransfer.getInstance();\n        this._dropProgressManager = this._register(instantiationService.createInstance(InlineProgressManager, 'dropIntoEditor', editor));\n        this._postDropWidgetManager = this._register(instantiationService.createInstance(PostEditWidgetManager, 'dropIntoEditor', editor, dropWidgetVisibleCtx, { id: changeDropTypeCommandId, label: localize('postDropWidgetTitle', \"Show drop options...\") }));\n        this._register(editor.onDropIntoEditor(e => this.onDropIntoEditor(editor, e.position, e.event)));\n    }\n    changeDropType() {\n        this._postDropWidgetManager.tryShowSelector();\n    }\n    onDropIntoEditor(editor, position, dragEvent) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!dragEvent.dataTransfer || !editor.hasModel()) {\n                return;\n            }\n            (_a = this._currentOperation) === null || _a === void 0 ? void 0 : _a.cancel();\n            editor.focus();\n            editor.setPosition(position);\n            const p = createCancelablePromise((token) => __awaiter(this, void 0, void 0, function* () {\n                const tokenSource = new EditorStateCancellationTokenSource(editor, 1 /* CodeEditorStateFlag.Value */, undefined, token);\n                try {\n                    const ourDataTransfer = yield this.extractDataTransferData(dragEvent);\n                    if (ourDataTransfer.size === 0 || tokenSource.token.isCancellationRequested) {\n                        return;\n                    }\n                    const model = editor.getModel();\n                    if (!model) {\n                        return;\n                    }\n                    const providers = this._languageFeaturesService.documentOnDropEditProvider\n                        .ordered(model)\n                        .filter(provider => {\n                        if (!provider.dropMimeTypes) {\n                            // Keep all providers that don't specify mime types\n                            return true;\n                        }\n                        return provider.dropMimeTypes.some(mime => ourDataTransfer.matches(mime));\n                    });\n                    const edits = yield this.getDropEdits(providers, model, position, ourDataTransfer, tokenSource);\n                    if (tokenSource.token.isCancellationRequested) {\n                        return;\n                    }\n                    if (edits.length) {\n                        const canShowWidget = editor.getOption(35 /* EditorOption.dropIntoEditor */).showDropSelector === 'afterDrop';\n                        // Pass in the parent token here as it tracks cancelling the entire drop operation\n                        yield this._postDropWidgetManager.applyEditAndShowIfNeeded([Range.fromPositions(position)], { activeEditIndex: 0, allEdits: edits }, canShowWidget, token);\n                    }\n                }\n                finally {\n                    tokenSource.dispose();\n                    if (this._currentOperation === p) {\n                        this._currentOperation = undefined;\n                    }\n                }\n            }));\n            this._dropProgressManager.showWhile(position, localize('dropIntoEditorProgress', \"Running drop handlers. Click to cancel\"), p);\n            this._currentOperation = p;\n        });\n    }\n    getDropEdits(providers, model, position, dataTransfer, tokenSource) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const results = yield raceCancellation(Promise.all(providers.map(provider => {\n                return provider.provideDocumentOnDropEdits(model, position, dataTransfer, tokenSource.token);\n            })), tokenSource.token);\n            const edits = coalesce(results !== null && results !== void 0 ? results : []);\n            edits.sort((a, b) => b.priority - a.priority);\n            return edits;\n        });\n    }\n    extractDataTransferData(dragEvent) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!dragEvent.dataTransfer) {\n                return new VSDataTransfer();\n            }\n            const dataTransfer = toExternalVSDataTransfer(dragEvent.dataTransfer);\n            if (this.treeItemsTransfer.hasData(DraggedTreeItemsIdentifier.prototype)) {\n                const data = this.treeItemsTransfer.getData(DraggedTreeItemsIdentifier.prototype);\n                if (Array.isArray(data)) {\n                    for (const id of data) {\n                        const treeDataTransfer = yield this._treeViewsDragAndDropService.removeDragOperationTransfer(id.identifier);\n                        if (treeDataTransfer) {\n                            for (const [type, value] of treeDataTransfer) {\n                                dataTransfer.replace(type, value);\n                            }\n                        }\n                    }\n                }\n            }\n            return dataTransfer;\n        });\n    }\n};\nDropIntoEditorController.ID = 'editor.contrib.dropIntoEditorController';\nDropIntoEditorController = __decorate([\n    __param(1, IInstantiationService),\n    __param(2, ILanguageFeaturesService),\n    __param(3, ITreeViewsDnDService)\n], DropIntoEditorController);\nexport { DropIntoEditorController };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}